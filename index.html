<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ezra's Money Machine</title>
    <meta name="description" content="A financial learning tool for Ezra by Taitt Fin." />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React and ReactDOM UMD builds -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Babel in-browser JSX transform -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { background-color: #0f172a; color: white; }
        .slider-thumb::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            background: #fbbf24;
            cursor: pointer;
            border-radius: 50%;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Simple icon components (use emoji for brevity and safety)
        const Rocket = (props) => <span {...props} role="img" aria-label="rocket">üöÄ</span>;
        const Clock = (props) => <span {...props} role="img" aria-label="clock">‚è∞</span>;
        const TrendingUp = (props) => <span {...props} role="img" aria-label="trending">üìà</span>;
        const Zap = (props) => <span {...props} role="img" aria-label="zap">‚ö°</span>;

        // Card wrapper
        const Card = ({ children, className = "" }) => (
            <div className={`bg-slate-800 rounded-2xl border border-slate-700 p-6 shadow-xl ${className}`}>
                {children}
            </div>
        );

        const CoinRule = ({ percentage, coinName, coinColor, emoji, description, value }) => (
            <div className="flex items-center gap-4 bg-slate-900/50 p-4 rounded-xl border border-slate-700/50 mb-3 hover:border-yellow-400/50 transition-all cursor-pointer group">
                <div className="flex flex-col items-center justify-center w-16">
                    <div className={`w-12 h-12 rounded-full flex items-center justify-center text-2xl shadow-lg ${coinColor} group-hover:scale-110 transition-transform`}>
                        {percentage > 0 ? '$' : '‚ùå'}
                    </div>
                    <span className="text-xs text-slate-400 mt-1 font-mono">{percentage}%</span>
                </div>

                <div className="flex-1">
                    <div className="flex justify-between items-center">
                        <h4 className="font-bold text-white text-lg">{coinName} Rule</h4>
                        <span className="text-2xl">{emoji}</span>
                    </div>
                    <p className="text-slate-300 text-sm leading-snug">{description}</p>
                    <div className="mt-2 text-xs font-mono text-yellow-400 bg-yellow-400/10 inline-block px-2 py-1 rounded">
                        For every $1.00 ‚Üí You get a {value}
                    </div>
                </div>
            </div>
        );

        function EzraMoneyApp() {
            const [activeTab, setActiveTab] = React.useState('timeMachine');
            const [age, setAge] = React.useState(6);

            // Initial Balances
            const initialBalances = {
                chase: 134.01,
                savings: 1202.46,
                cd: 520.00,
                roth: 1081.64
            };

            const yearsPassed = Math.max(0, age - 6);

            // Compound growth
            const currentValues = {
                chase: initialBalances.chase, // 0%
                savings: initialBalances.savings * Math.pow(1.01, yearsPassed), // 1%
                cd: initialBalances.cd * Math.pow(1.05, yearsPassed), // 5%
                roth: initialBalances.roth * Math.pow(1.25, yearsPassed) // 25%
            };

            const totalMoney = Object.values(currentValues).reduce((a, b) => a + b, 0);
            const profit = totalMoney - 2938.11;

            const fmt = (num) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(num);

            // percent helper for progress bars (safe guard against divide by zero)
            const pct = (val) => {
                if (!totalMoney || totalMoney <= 0) return 0;
                return Math.round((val / totalMoney) * 100);
            };

            return (
                <div className="min-h-screen bg-slate-900 text-white font-sans pb-20">
                    <header className="bg-slate-900 border-b border-slate-800 sticky top-0 z-10">
                        <div className="max-w-md mx-auto px-4 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <img
                                    src="taitt_fin_horizontal_banner.png"
                                    alt="Taitt Fin"
                                    className="h-10 w-auto object-contain hidden sm:block mr-2"
                                    onError={(e) => { e.currentTarget.style.display = 'none'; }}
                                />
                                <div className="sm:hidden w-8 h-8 bg-gradient-to-tr from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-slate-900 font-bold">E</div>
                                <span className="font-bold text-lg tracking-tight">Ezra's Money Machine</span>
                            </div>
                            <div className="text-sm font-medium bg-slate-800 px-3 py-1 rounded-full border border-slate-700">
                                Age: <span className="text-yellow-400">{age}</span>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-md mx-auto px-4 py-6 space-y-6">
                        <div className="grid grid-cols-2 gap-2 bg-slate-800 p-1 rounded-xl">
                            <button
                                onClick={() => setActiveTab('timeMachine')}
                                className={`py-2 rounded-lg text-sm font-bold transition-all ${activeTab === 'timeMachine' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white'}`}
                            >
                                Time Machine üöÄ
                            </button>
                            <button
                                onClick={() => setActiveTab('infographic')}
                                className={`py-2 rounded-lg text-sm font-bold transition-all ${activeTab === 'infographic' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white'}`}
                            >
                                Coin Rules ü™ô
                            </button>
                        </div>

                        {activeTab === 'infographic' ? (
                            <div className="animate-in">
                                <h2 className="text-2xl font-bold mb-2 text-center">How Your Money Grows</h2>
                                <p className="text-slate-400 text-center mb-6 text-sm">Every year, your money makes "baby money." The rule depends on where the money lives!</p>

                                <CoinRule
                                    percentage={0}
                                    coinName="The Zero"
                                    description="Checking Account. The money just sleeps. It doesn't grow money."
                                    emoji="üò¥"
                                    value="Nothing (0¬¢)"
                                    coinColor="bg-slate-600 text-slate-400"
                                />
                                <CoinRule
                                    percentage={1}
                                    coinName="The Penny"
                                    description="Savings Account. Every dollar gives you a tiny penny."
                                    emoji="ü•â"
                                    value="Penny (1¬¢)"
                                    coinColor="bg-orange-700 text-orange-200 border-2 border-orange-600"
                                />
                                <CoinRule
                                    percentage={5}
                                    coinName="The Nickel"
                                    description="Trax CD. Now we are talking! A shiny nickel."
                                    emoji="ü•à"
                                    value="Nickel (5¬¢)"
                                    coinColor="bg-slate-300 text-slate-600 border-2 border-slate-400"
                                />
                                <CoinRule
                                    percentage={25}
                                    coinName="The Quarter"
                                    description="Roth IRA. This is the magic machine! Big quarters!"
                                    emoji="üöÄ"
                                    value="Quarter (25¬¢)"
                                    coinColor="bg-yellow-400 text-yellow-900 border-4 border-yellow-200"
                                />
                            </div>
                        ) : (
                            <div className="space-y-6">
                                <Card className="bg-gradient-to-b from-indigo-900 to-slate-900 border-indigo-500/30">
                                    <div className="flex items-center justify-between mb-4">
                                        <h3 className="font-bold text-indigo-300 flex items-center gap-2">
                                            <Clock /> Time Machine
                                        </h3>
                                        <span className="text-xs bg-indigo-500/20 text-indigo-300 px-2 py-1 rounded">Drag to grow!</span>
                                    </div>

                                    <div className="relative pt-6 pb-2">
                                        <input
                                            type="range" min="6" max="18" step="1"
                                            value={age}
                                            onChange={(e) => setAge(parseInt(e.target.value))}
                                            className="w-full h-4 bg-slate-700 rounded-lg appearance-none cursor-pointer slider-thumb"
                                        />
                                        <div className="flex justify-between mt-2 text-xs font-mono text-slate-400">
                                            <span>Age 6</span><span>Age 12</span><span>Age 18</span>
                                        </div>
                                        <div className="mt-4 text-center">
                                            <span className="text-4xl font-black text-white drop-shadow-lg">Age {age}</span>
                                            <div className="text-indigo-400 text-sm font-bold">
                                                {yearsPassed === 0 ? "Today" : `${yearsPassed} years later`}
                                            </div>
                                        </div>
                                    </div>
                                </Card>

                                <div className="text-center py-4">
                                    <div className="text-slate-400 text-sm uppercase tracking-wider font-bold mb-1">Total Wealth</div>
                                    <div className="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-600 tracking-tight">
                                        {fmt(totalMoney)}
                                    </div>
                                    {yearsPassed > 0 && (
                                        <div className="inline-flex items-center gap-1 bg-green-900/30 text-green-400 px-3 py-1 rounded-full text-sm font-bold mt-2 border border-green-800">
                                            <TrendingUp /> You made +{fmt(profit)} for doing nothing!
                                        </div>
                                    )}
                                </div>

                                <div className="grid gap-4">
                                    {/* Chase */}
                                    <div className="bg-slate-800 p-4 rounded-xl border-l-4 border-slate-500 flex items-center gap-4">
                                        <div className="w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center text-xl">üê∑</div>
                                        <div className="flex-1">
                                            <div className="flex justify-between font-bold">
                                                <span className="text-slate-300">Chase (0%)</span>
                                                <span className="text-slate-400">{fmt(currentValues.chase)}</span>
                                            </div>
                                            <div className="h-2 bg-slate-700 rounded-full mt-2 overflow-hidden">
                                                <div className="h-full bg-slate-500" style={{width: `${pct(currentValues.chase)}%`}}></div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Savings */}
                                    <div className="bg-slate-800 p-4 rounded-xl border-l-4 border-orange-500 flex items-center gap-4">
                                        <div className="w-10 h-10 bg-orange-900/50 rounded-full flex items-center justify-center text-xl">üå±</div>
                                        <div className="flex-1">
                                            <div className="flex justify-between font-bold">
                                                <span className="text-orange-200">Savings (1%)</span>
                                                <span className="text-orange-400">{fmt(currentValues.savings)}</span>
                                            </div>
                                            <div className="h-2 bg-slate-700 rounded-full mt-2 overflow-hidden">
                                                <div className="h-full bg-orange-500 transition-all duration-300" style={{width: `${pct(currentValues.savings)}%`}}></div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* CD */}
                                    <div className="bg-slate-800 p-4 rounded-xl border-l-4 border-blue-500 flex items-center gap-4">
                                        <div className="w-10 h-10 bg-blue-900/50 rounded-full flex items-center justify-center text-xl">üîí</div>
                                        <div className="flex-1">
                                            <div className="flex justify-between font-bold">
                                                <span className="text-blue-200">Trax CD (5%)</span>
                                                <span className="text-blue-400">{fmt(currentValues.cd)}</span>
                                            </div>
                                            <div className="h-2 bg-slate-700 rounded-full mt-2 overflow-hidden">
                                                <div className="h-full bg-blue-500 transition-all duration-300" style={{width: `${pct(currentValues.cd)}%`}}></div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Roth IRA */}
                                    <div className="relative bg-gradient-to-r from-indigo-900 to-purple-900 p-4 rounded-xl border border-indigo-500/50 shadow-lg shadow-indigo-900/50 overflow-hidden">
                                        <div className="relative z-10 flex items-center gap-4">
                                            <div className="w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center text-xl shadow-lg shadow-yellow-400/50 animate-pulse">üöÄ</div>
                                            <div className="flex-1">
                                                <div className="flex justify-between font-bold items-end">
                                                    <span className="text-white">Roth IRA (25%)</span>
                                                    <span className="text-2xl text-yellow-300">{fmt(currentValues.roth)}</span>
                                                </div>
                                                <div className="h-3 bg-slate-900/50 rounded-full mt-2 overflow-hidden border border-white/10">
                                                    <div className="h-full bg-gradient-to-r from-yellow-400 to-yellow-600" style={{width: `${pct(currentValues.roth)}%`}}></div>
                                                </div>
                                                <div className="text-[10px] text-indigo-200 mt-2 flex items-center gap-1 font-bold"><Zap className="w-3 h-3 text-yellow-400" /> ROCKET MONEY! <span className="ml-1 text-xs text-yellow-200">Big growth</span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                        <footer className="text-center mt-10 text-slate-600 text-xs">
                            <p>Created by Taitt Fin for Ezra</p>
                        </footer>
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<EzraMoneyApp />);
    </script>
</body>
</html>